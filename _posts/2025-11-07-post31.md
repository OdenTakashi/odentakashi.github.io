---
layout: post
title: "annotaterb commit log (20251107)"
image: https://odentakashi.github.io/public/images/mini_annotaterb_schematic.png
date: 2025-11-07 11:40
---
annotaterb commit logã‚’æµã—ã§èª­ã¿ã¾ã—ãŸ ğŸ‘€

èª­ã‚“ã ã‚³ãƒŸãƒƒãƒˆã¯ä¸‹è¨˜ã§ã™ã€‚

- [Comparing v4\.20\.0\.\.\.main Â· drwl/annotaterb](https://github.com/drwl/annotaterb/compare/v4.20.0...main)

## chore: add missing newlines #280
æœ«å°¾æ”¹è¡ŒãŒæ¬ ã‘ã¦ã„ãŸ `*.yml` / `*.rb` ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€çµ‚è¡Œã«æ”¹è¡Œã‚’è¿½åŠ ã—ãŸã‚³ãƒŸãƒƒãƒˆã§ã™ã€‚

refs: [chore: add missing newlines](https://github.com/drwl/annotaterb/pull/280)

## refactor: use existing database_name method for cache key #282
ãƒ¢ãƒ‡ãƒ«ãŒæ¥ç¶šã—ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åã®å–å¾—å‡¦ç†ã‚’ã€æ—¢å­˜ã® `database_name` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’åˆ©ç”¨ã™ã‚‹å½¢ã«æ•´ç†ã—ãŸãƒªãƒ•ã‚¡ã‚¯ã‚¿ã§ã™ã€‚

refs: [refactor: use existing database\_name method for cache key](https://github.com/drwl/annotaterb/pull/282)

## feat: Add "ignore_multi_database_name" option #283
[feat: Add database name to annotations in multi\-DB environments](https://github.com/drwl/annotaterb/pull/272) ã«ã‚ˆã‚Šã€ãƒãƒ«ãƒ DB ç’°å¢ƒã§ã¯ãƒ¢ãƒ‡ãƒ«ãŒæ¥ç¶šã—ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åãŒ annotation ã«å«ã¾ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚<br>
æœ¬ PR ã§ã¯ãã®ä»˜ä¸ã‚’åˆ¶å¾¡ã§ãã‚‹ `ignore_multi_database_name` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã€å¿…è¦ã«å¿œã˜ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åã®ä»˜ä¸ã‚’æŠ‘åˆ¶ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚

refs: [feat: Add "ignore\_multi\_database\_name" option](https://github.com/drwl/annotaterb/pull/283)

## chore: remove concurrent-ruby version lock from dummy app #284
æœ¬ PR ã§ã¯ annotaterb å†…ã®ãƒ†ã‚¹ãƒˆç”¨ã‚¢ãƒ—ãƒªã«ã¦ã€`concurrent-ruby` ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šã‚’è§£é™¤ã—ã¦ã„ã¾ã™ã€‚

èƒŒæ™¯ã¯ Rails 7.0.8 ã§ `logger_thread_safe_level.rb` ãŒ `Logger` ã‚’ `require` ã—ã¦ã„ãªã„ä¸å…·åˆãŒã‚ã‚Šã€`concurrent-ruby` 1.3.4 ãŒå†…éƒ¨ã§ `logger` ã‚’èª­ã¿è¾¼ã‚€ã“ã¨ã§å•é¡ŒãŒéš è”½ã•ã‚Œã¦ã„ãŸç‚¹ã§ã™ã€‚1.3.5 ã§ãã®èª­ã¿è¾¼ã¿ãŒå‰Šé™¤ã•ã‚Œä¸å…·åˆãŒé¡•åœ¨åŒ–ã—ã¾ã—ãŸãŒã€ã‚¢ãƒ—ãƒªã‚’ Rails 7.1 ã«æ›´æ–°ã—ãŸã“ã¨ã§æ ¹æœ¬çš„ã«è§£æ¶ˆã•ã‚ŒãŸãŸã‚å›ºå®šã¯ä¸è¦ã«ãªã‚Šã¾ã—ãŸã€‚

refs: [chore: remove concurrent\-ruby version lock from dummy app](https://github.com/drwl/annotaterb/pull/284)

## Support .config directory convention #281
ã“ã‚Œã¾ã§ã¯ãƒªãƒã‚¸ãƒˆãƒªç›´ä¸‹ã® `.annotaterb.yml` ã®ã¿ã‚’æ¢ç´¢ã—ã¦ã„ã¾ã—ãŸãŒã€å¤‰æ›´å¾Œã¯ä»¥ä¸‹ã®ãƒ‘ã‚¹ã‚‚æ¢ç´¢å¯¾è±¡ã«ãªã‚Šã¾ã—ãŸã€‚

- `.annotaterb.yml`
- `config/annotaterb.yml`
- `.config/.annotaterb.yml`
- `.config/annotaterb/config.yml`

ã“ã‚Œã«ã‚ˆã‚Šè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ä¸Šè¨˜ã„ãšã‚Œã‹ã®å ´æ‰€ã«é…ç½®ã§ãã€å…ˆé ­ã®ãƒ‰ãƒƒãƒˆã‚’çœã„ãŸ `config/annotaterb.yml` å½¢å¼ã‚‚åˆ©ç”¨å¯èƒ½ã«ãªã£ã¦ã„ã¾ã™ã€‚

refs: [Support \.config directory convention](https://github.com/drwl/annotaterb/pull/281)
