---
layout: post
title: "annotaterb v4.20.1 commit log æµã—èª­ã¿"
image: https://odentakashi.github.io/public/images/mini_annotaterb_schematic.png
date: 2026-02-15 11:15
---

annotaterb v4.20.1 commit logã‚’æµã—ã§èª­ã¿ã¾ã—ãŸ ğŸ‘€ <br>
èª­ã‚“ã ç¯„å›²ã¯ã€v4.21.0 ã® [å¤‰æ›´ç‚¹](https://github.com/drwl/annotaterb/compare/v4.20.0...v4.21.0) ã‹ã‚‰ã€ä»¥ä¸‹ã®è¨˜äº‹ã«æ²è¼‰ã•ã‚Œã¦ã„ã‚‹åˆ†ã‚’é™¤ã„ãŸå·®åˆ†ã§ã™ã€‚
- [annotaterb commit log \(20251107\) \| odentakashi](https://odentakashi.github.io/2025/11/07/post31.html)

## Bump actions/checkout from 5 to 6#299
actions/checkout ã‚’ v6 ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚

refs: [Bump actions/checkout from 5 to 6](https://github.com/drwã®nnotaterb/pull/299)

## Include ignore_multi_database_name in generated config#304
`ignore_multi_database_name` ã‚ªãƒ—ã‚·ãƒ§ãƒ³è‡ªä½“ã¯ã™ã§ã«å®Ÿè£…ã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€`OTHER_OPTION_KEYS` ã«è¿½åŠ ã•ã‚Œã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚
ãã®ãŸã‚ã€`annotate_rb:install` ã‚’å®Ÿè¡Œã—ã¦ç”Ÿæˆã•ã‚Œã‚‹ `.annotaterb.yml` ã«ã€ã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒå«ã¾ã‚Œãªã„çŠ¶æ…‹ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚
ä»Šå›ã®ã‚³ãƒŸãƒƒãƒˆã§ã¯ã€`ignore_multi_database_name` ã‚’ `OTHER_OPTION_KEYS` ã«è¿½åŠ ã™ã‚‹ã“ã¨ã§ã€ç”Ÿæˆã•ã‚Œã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚‚æ­£ã—ãåæ˜ ã•ã‚Œã‚‹ã‚ˆã†ä¿®æ­£ã•ã‚Œã¦ã„ã¾ã™ã€‚

refs: [Include ignore\_multi\_database\_name in generated config](https://github.com/drwl/annotaterb/pull/304)

## Add integration test for ignore_multi_database_name config option#305
`ignore_multi_database_name` ã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§æŒ‡å®šã§ãã‚‹ã‚‚ã®ã®ã€ãƒãƒ«ãƒDBç’°å¢ƒã§æ­£ã—ãå‹•ãã“ã¨ã‚’ç¢ºèªã™ã‚‹çµ±åˆãƒ†ã‚¹ãƒˆãŒã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚
ä»Šå›ã®ã‚³ãƒŸãƒƒãƒˆã§ã¯ `annotate_models_in_multi_db_spec.rb` ã«ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ã—ã€`ignore_multi_database_name: true` ã‚’è¨­å®šã—ãŸå ´åˆã« primary / secondary ä¸¡æ–¹ã®ãƒ¢ãƒ‡ãƒ«ã® annotation ã‹ã‚‰ DB åãŒé™¤å¤–ã•ã‚Œã‚‹ã“ã¨ã‚’æ¤œè¨¼ã—ã¦ã„ã¾ã™ã€‚

refs: [Add integration test for ignore\_multi\_database\_name config option](https://github.com/drwl/annotaterb/pull/305)

## Add to_yard and to_rdoc methods to Annotation classes#302
`format_rdoc` / `format_yard` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æœ‰åŠ¹ã«ã—ãŸéš›ã€å„ annotation ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ`index` ãƒ–ãƒ­ãƒƒã‚¯ã‚„ `fk` ãƒ–ãƒ­ãƒƒã‚¯ãªã©ï¼‰ã®ã‚¯ãƒ©ã‚¹ã« `to_rdoc` / `to_yard` ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®šç¾©ã•ã‚Œã¦ã„ãªã‹ã£ãŸãŸã‚ã€`NoMethodError` ãŒç™ºç”Ÿã—ã¦ã„ã¾ã—ãŸã€‚

ã“ã®ã‚³ãƒŸãƒƒãƒˆã§ã¯ã€è©²å½“ã‚¯ãƒ©ã‚¹ã« `to_rdoc` ã¨ `to_yard` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚ãŸã ã—ã€ã“ã®æ™‚ç‚¹ã§ã¯å®Ÿéš›ã« RDoc / YARD å½¢å¼ã¸æ•´å½¢ã™ã‚‹å…·ä½“çš„ãªå‡¦ç†ã¾ã§ã¯å®Ÿè£…ã•ã‚Œã¦ãŠã‚‰ãšã€ã¾ãšã¯ã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã®åœŸå°ã‚’æ•´ãˆãŸå½¢ã«ãªã£ã¦ã„ã¾ã™ã€‚

refs: [Add to\_yard and to\_rdoc methods to Annotation classes\#](https://github.com/drwl/annotaterb/pull/302)

## Update Rails generator command in README#296
README ã«ã¦ `generate` ã‚³ãƒãƒ³ãƒ‰ãŒ `generator` ã¨èª¤è¨˜ãŒã‚ã£ãŸãŸã‚ã€ä¿®æ­£ã•ã‚Œã¦ã„ã¾ã™ã€‚

refs: [Update Rails generator command in README](https://github.com/drwl/annotaterb/pull/296)

## Support customising config path#301
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ `.annotaterb.yml` ã®æ¢ç´¢å¯¾è±¡ãƒ‘ã‚¹ã¯ä»¥ä¸‹ã«å›ºå®šã•ã‚Œã¦ã„ã¾ã™ãŒã€ä»Šå›ã®å¤‰æ›´ã§ CLI ã« `--config-path #{path}` ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ä»»æ„ã®ãƒ‘ã‚¹ã«ç½®ã„ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
- `.annotaterb.yml`
- `config/annotaterb.yml`
- `.config/.annotaterb.yml`
- `.config/annotaterb/config.yml`

monorepo æ§‹æˆã® Rails ã‚¢ãƒ—ãƒªã§ã€è¤‡æ•°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¨ªæ–­ã—ã¦å…±é€šã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã„ãŸã„ã€ã¨ã„ã†ãƒ‹ãƒ¼ã‚ºã«å¯¾å¿œã—ãŸå¤‰æ›´ã®ã‚ˆã†ã§ã™ã€‚

refs: [Support customising config path](https://github.com/drwl/annotaterb/pull/301)
